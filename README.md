
# ğŸ”¥í•«ì±—(ì±„íŒ…ë°©ì— ì´ˆë‹¹ ë©”ì‹œì§€ 5ê°œ ì´ìƒ) ë°°ì¹˜ ì²˜ë¦¬ ì‹œìŠ¤í…œ

## ğŸ¯ ëª©í‘œ

> **ëŒ€ê·œëª¨ ì±„íŒ… ì„œë¹„ìŠ¤ì—ì„œ ì§§ì€ ì‹œê°„ ë™ì•ˆ í­ë°œì ìœ¼ë¡œ ìŸì•„ì§€ëŠ” ë©”ì‹œì§€ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ê¸° ìœ„í•´,**
> 
> ì¼ì • ê¸°ì¤€ ì´ìƒì˜ íŠ¸ë˜í”½ì´ ê°ì§€ëœ ì±„íŒ…ë°©ì— ëŒ€í•´ì„œëŠ”  
> **ì‹¤ì‹œê°„ ì²˜ë¦¬**ì—ì„œ **ë°°ì¹˜ ì²˜ë¦¬ ë°©ì‹**ìœ¼ë¡œ ì „í™˜í•˜ì—¬  
> ì‹œìŠ¤í…œ ë¶€í•˜ë¥¼ ì¤„ì´ê³ , ì„œë¹„ìŠ¤ ì•ˆì •ì„±ì„ í–¥ìƒì‹œí‚¤ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.

![ìŠ¤í¬ë¦°ìƒ· 2025-05-22 162109](https://github.com/user-attachments/assets/90e27f1f-c7f3-435e-b398-60788f73f2b4)

### Redisì˜ `TTL(Time To Live)`ì„ **1ì´ˆë¡œ ì„¤ì •**í•˜ì—¬ ë©”ì‹œì§€ ì¹´ìš´íŠ¸ê°€ ìë™ìœ¼ë¡œ **ì´ˆ ë‹¨ìœ„ë¡œ ë§Œë£Œ**ë˜ë„ë¡ êµ¬ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.

<br>
<br>


![image](https://github.com/user-attachments/assets/e90a18b6-84fd-4bd5-ba39-104c8888e876)
### Map<Long, List<String>> êµ¬ì¡°ì˜ hotChatMessageBufferì— ë©”ì‹œì§€ë¥¼ ëˆ„ì  ì €ì¥í•˜ê³  ScheduledExecutorServiceë¥¼ ì´ìš©í•´ ë©”ì‹œì§€ë¥¼ 1ì´ˆ í›„ ì¼ê´„ ë¸Œë¡œë“œìºìŠ¤íŠ¸í•˜ëŠ” ì§€ì—° ë°°ì¹˜ ì²˜ë¦¬ êµ¬í˜„
### ë©”ì‹œì§€ ì „ì†¡ì€ flushHotChatMessages(chatRoomId) ì—ì„œ í•œ ë²ˆì— ì²˜ë¦¬

<br>

![image](https://github.com/user-attachments/assets/f696e344-b00e-40be-9341-083e12533bfd)
### í•´ë‹¹ ì±„íŒ…ë°© ë©”ì‹œì§€ë¥¼ remove()í•˜ì—¬ ë²„í¼ì—ì„œ ì œê±°í•˜ì—¬ ë™ì‹œì— ì—¬ëŸ¬ flushê°€ ë°œìƒí•˜ì§€ ì•Šë„ë¡ remove() ê¸°ë°˜ìœ¼ë¡œ ì¤‘ë³µ ë°©ì§€
